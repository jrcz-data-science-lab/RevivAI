---
import AppContainer from '@/components/app';
import AppLayout from '@/layouts/app-layout.astro';
import { LoaderPinwheel } from 'lucide-react';

// Do not render on the server
export const prerender = false;

// Selected projectId from the URL
const projectId = Astro.params.projectId;

// Redirect to projects page if no projectId is provided
if (!projectId) return Astro.redirect('/');
---

<AppLayout>
	<AppContainer client:only projectId={projectId} />

	<div id="loading-spinner" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
		<LoaderPinwheel className="animate-spin" />
	</div>
</AppLayout>
